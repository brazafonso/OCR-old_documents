\documentclass[12pt,a4paper]{report}
% \usepackage{dissertation}

%%%%%%%%%%%%%%%%%%%%%%%%%%%% copiado de disseration.sty para funcionar melhor no TeXstudio (apagar quando finalizado)
\usepackage[english, portuguese]{babel}
\usepackage{fontspec}
\usepackage{geometry}
\geometry{top=0mm,bottom=10mm,right=0mm,left=79mm} % for the title page ; new geometry after
\usepackage{subcaption}
\usepackage{adjustbox}
\usepackage{titling}
\usepackage[hidelinks]{hyperref}
\usepackage{natbib}
\usepackage{afterpage}
\usepackage{datetime}
\usepackage{csquotes}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{titlesec}
\usepackage{multirow}
\usepackage{epigraph}
\usepackage{datetime}
\usepackage{caption}
\usepackage[many]{tcolorbox} 
\usepackage{tabularx}
\usepackage{leading}
\usepackage[capitalise]{cleveref} % Create better looking section cross-reference links
\usepackage[acronym]{glossaries}
\renewcommand*{\glstextformat}{\textbf}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{enumitem}

%-- Space between lines
\renewcommand{\baselinestretch}{1.5} 

%-- Font News Got T
\setmainfont{NewsGotT.ttf}
\setmainfont[
Ligatures=TeX,
AutoFakeSlant=0.20,
BoldFont=NewsGotTBold.ttf
]{NewsGotT.ttf}

\newfontfamily\NewsGotTLight{NewsGotTLight.ttf}

%-- Cover
\newcommand{\thelogo}{}
\newcommand{\logo}[3]{\renewcommand{\thelogo}{
		\includegraphics[width=26mm]{images/logos/UM.jpg}\includegraphics[width=26mm]{images/logos/#1.jpg}
		
		\vspace{7.05mm}
		\leading{16.8pt}
		{\large
			\textbf{Universidade do Minho}
			\\
			{\NewsGotTLight
				#2
				\\
				#3
		}}
		
		\vspace{37.32mm} %43.24mm - 5.92mm
}}

\newcommand{\thelogoB}{}
\newcommand{\logoB}[3]{\renewcommand{\thelogoB}{
		\includegraphics[width=26mm]{images/logosB/UM.jpg}\hspace{0.5mm}\includegraphics[width=26mm]{images/logosB/#1.jpg}
		
		\vspace{7.05mm}
		\leading{16.8pt}
		{\large
			\textbf{Universidade do Minho}
			\\
			{\NewsGotTLight
				#2
				\\
				#3
		}}
		
		\vspace{37.32mm} %43.24mm - 5.92mm
}}

\newcommand{\thetitleA}{}
\newcommand{\titleA}[1]{\renewcommand{\thetitleA}{#1}}

\newcommand{\thetitleB}{}
\newcommand{\titleB}[1]{\renewcommand{\thetitleB}{#1}}

\newcommand{\thetitleC}{}
\newcommand{\titleC}[1]{\renewcommand{\thetitleC}{#1}}

\newcommand{\themasters}{}
\newcommand{\masters}[1]{\renewcommand{\themasters}{#1 \\}}

\newcommand{\thearea}{}
\newcommand{\area}[1]{\renewcommand{\thearea}{#1 \\}}

\newcommand{\thesupervisor}{}
\newcommand{\supervisor}[1]{\renewcommand{\thesupervisor}{#1}}

\newcommand{\thecosupervisor}{}
\newcommand{\cosupervisor}[1]{\renewcommand{\thecosupervisor}{\textbf{#1}}}

%-- Figures and Tables
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

%-- Date
\def\myear{\ifcase\month\or
	janeiro\or fevereiro\or março\or abril\or maio\or junho\or
	julho\or agosto\or setembro\or outubro\or novembro\or dezembro\fi
	\space\number\year}

%--Colors 
\usepackage{color}
\usepackage{pagecolor}

\definecolor{PANTONECoolGray7C}{HTML}{97999B}
\definecolor{PANTONE1807C}{HTML}{A4343A}
\definecolor{blueUM}{HTML}{24A2DA}

%-- Hypersetup
\hypersetup{
	colorlinks = true,
	linkcolor = blueUM,
	citecolor = blueUM,
	urlcolor = blueUM
}

%-- Title format
\titleformat{\part}[display]
{\relax}
{\centering\huge\bfseries\partname~\thepart}
{0ex}
{\centering\Huge\vspace{0ex}\bfseries}

%\titleformat{\chapter}
%  {\LARGE\bfseries}{\thechapter}{1em}{}

\titleformat{\chapter}[display]
{\relax}
{\Large\bfseries\chaptername~\thechapter}
{0ex}
{\LARGE\vspace{0ex}\bfseries}

\titleformat{\section}
{\Large\bfseries}{\thesection}{1em}{}

\titleformat{\subsection}
{\large\bfseries}{\thesubsection}{1em}{}

%-- Footnote format
\ifdefined\deffootnote
\deffootnote{.5em}{0em}{\thefootnotemark
}
\else
\PassOptionsToPackage{marginal}{footmisc}
\RequirePackage{footmisc}
\fi
\renewcommand{\footnotelayout}{\scriptsize}

%-- Environments
\newenvironment{backcover}{\begin{titlepage}}{\end{titlepage}}

%-- Indexes
\usepackage{imakeidx}

\def\Latex{
	\href{http://www.latex-project.org/}{\LaTeX}
	\index{\LaTeX}}
\newcommand{\tug}[1]{
	\href{http://tug.org/}{#1}
	\index{TeX!TeX Users Group (TUG)}}
\newcommand{\TUG}{
	\tug{TUG}}
\newcommand{\uminho}[1]{
	\href{http://www.uminho.pt}{#1}
	\index{UM!Universidade do Minho}}




%%%%%%%%%%%%%%%%%%%% fim de copia


% Define the highlight command
\usepackage{xparse} % This package is needed for \NewDocumentCommand

\NewDocumentCommand{\highlight}{m O{\large}}{%
	\vspace{1em} % Adds vertical space before the highlighted text
	\par\noindent % Ensures the text starts on a new line and is not indented
	{\textbf{#2 #1}} % Makes the text bold and applies the given text size
	\vspace{1em} % Adds vertical space after the highlighted text
}

\setcounter{tocdepth}{3}
\usepackage{algorithm,algpseudocode,float}
\makeatletter
% \renewcommand{\@algocf@capt@plain}{above}% formerly {bottom}
\makeatother


\makeatletter
\newenvironment{breakablealgorithm}
{% \begin{breakablealgorithm}
		\begin{center}
			\refstepcounter{algorithm}% New algorithm
			\hrule height.8pt depth0pt \kern2pt% \@fs@pre for \@fs@ruled
			\renewcommand{\caption}[2][\relax]{% Make a new \caption
				{\raggedright\textbf{\fname@algorithm~\thealgorithm} ##2\par}%
				\ifx\relax##1\relax % #1 is \relax
				\addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
				\else % #1 is not \relax
				\addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
				\fi
				\kern2pt\hrule\kern2pt
			}
		}{% \end{breakablealgorithm}
		\kern2pt\hrule\relax% \@fs@post for \@fs@ruled
	\end{center}
}
\makeatother



% \usepackage{algpseudocode}
\makeglossaries
\makeindex


\logo{EE}{Escola de Engenharia}{}
\logoB{EE}{Escola de Engenharia}{}


\author{Gonçalo Braz Afonso}

\titleA{OCR para documentos estruturados antigos}
\titleB{Old structured documents OCR}

\masters{Mestrado em Engenharia Informática}
%\area{Área de especialização}
\supervisor{José João Antunes Guimarães Dias Almeida}




\begin{document}
\setlength{\parindent}{0em}

%-- Covers
\input{covers/Covers}

%-- Document setup
\newgeometry{right=25mm, left=25mm, top=25mm, bottom=25mm}
\pagenumbering{roman}

\setlength{\parskip}{0pt}
\setlength{\parindent}{1.5em}

%-- Preamble
\input{preamble/Copyright}
\input{preamble/Acknowledgements}
\input{preamble/StatementofIntegrity}
\input{preamble/Abstract}

\phantomsection
\tableofcontents

% Acronyms
\printglossary[type=\acronymtype,nonumberlist, title={Acrónimos}]

% Glossary
\printglossary[title={Glossário}, nonumberlist]

\cleardoublepage
\listoffigures

% List of tables
\listoftables
\clearpage



\cleardoublepage
\pagenumbering{arabic}

%-- Dissertation 

\input{chapters/Introduction}
\input{chapters/StateOfTheArt}
%%
\input{chapters/OSDOCRFilosofia}
\input{chapters/OSDOCR_Data_Structures_Implementation}
\input{chapters/OSDOCR_Toolkit_Implementation}
\input{chapters/OSDOCR_Pipeline_Implementation}
\input{chapters/OSDOCR_Editor_Implementation}
\input{chapters/Results}
\input{chapters/ConclusionsAndFutureWork}

\renewcommand{\baselinestretch}{1}
\bibliographystyle{plainnat}
\bibliography{dissertation}
\printindex

\appendix
\renewcommand\chaptername{Apêndice}

%\input{appendices/SupportWork}
\input{appendices/DetailsOfResults}
%\input{appendices/Listings}
\input{appendices/Tooling}

\input{covers/BackCover}

\end{document}
